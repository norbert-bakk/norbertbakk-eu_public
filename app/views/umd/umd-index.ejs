<%- include("./umd-partials/umd-header") %>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <% if (message) { %>
        <div class="alert alert-dismissible fade show alert-<%= message.type %>"
        role="alert">
        <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
        <strong><%= message.message %></strong>
      </div>
      <% } %>
      <div class="table-responsive">
        <% if (users != "") { %>
          <table class="table table-striped my-5">
            <thead class="table-dark text-center">
              <tr>
                <th>ID</th>
                <th>Image</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
                <% users.forEach((user, index) => { %>
                  <tr class="align-middle">
                    <td><%= index %></td>
                    <td><img src="/images/uploads/<%= user.image %>" width="50px" class="img-thumbnail" alt="user's image"/></td>
                    <td><%= user.name %></td>
                    <td><%= user.email %></td>
                    <td><%= user.phone %></td>
                    <td>
                      <a href="/portfolio/umd/edit-user/<%= user._id %>" class="text-success"><i class="fas fa-edit fa-lg mx-1"></i></a>
                      <a href="/portfolio/umd/api/delete-user/<%= user._id %>" class="text-danger"><i class="fas fa-trash fa-lg mx-1"></i></a>
                    </td>
                  </tr>
                <% }) %>
            </tbody>
          </table>
        <% } else { %>
          <h1 class="text-center text-secondary mt-5">No Users Found, the accessed database is empty.</h3>
          <% } %>
      </div>
    </div>
  </div>
</div>

<%- include("./umd-partials/umd-footer") %>